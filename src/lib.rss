// https://www.reddit.com/r/rust/comments/d5i74n/accessing_zipped_file/
use std::fs::File;
// use tokio::fs::File;

fn doit() -> zip::result::ZipResult<()> {
    use std::io::prelude::*;
    
    // For demonstration purposes we read from an empty buffer.
    // Normally a File object would be used.
    let mut f = File::open("download.zip")?;                //different from example
//     let mut reader = std::io::Cursor::new(f);
    
    let mut zip = zip::ZipArchive::new(f)?;
    
    for i in 0..zip.len()
    {
        let mut file = zip.by_index(i).unwrap();
        println!("Filename: {}", file.name());
        let first_byte = file.bytes().next().unwrap()?;
        println!("{}", first_byte);
    }
    Ok(())
    }

    doit()